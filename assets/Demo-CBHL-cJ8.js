import{R as y,r as a,j as e,P as w}from"./index-COgP6CWt.js";const j=()=>{const c="Посмотрите, как ваш новый администратор работает сам.",[m,d]=a.useState(""),[h,p]=a.useState(!0),[r,i]=a.useState("pending"),[u,f]=a.useState(!1),n=a.useRef(null),x="https://i.imgur.com/gfm62r8.png";a.useEffect(()=>{p(!0),d("");const t=new IntersectionObserver(([l])=>{if(l.isIntersecting){let o=0;const v=setInterval(()=>{d(c.slice(0,o+1)),o++,o>c.length&&(clearInterval(v),setTimeout(()=>p(!1),500))},80);t.disconnect()}},{threshold:.6}),s=document.querySelector("#demo h2");return s&&t.observe(s),()=>{s&&t.unobserve(s)}},[]),a.useEffect(()=>{const t=n.current;if(!t)return;const s=()=>{t.play().catch(o=>{console.info("Demo video autoplay was prevented by the browser:",o),i("blocked")})},l=new IntersectionObserver(([o])=>{o.isIntersecting?r==="pending"&&s():t.pause()},{threshold:.5,rootMargin:"0px 0px -50px 0px"});return l.observe(t),()=>{l.disconnect()}},[r]),a.useEffect(()=>{const t=n.current;if(!t)return;const s=()=>i("playing"),l=()=>{!t.ended&&t.currentTime>0&&i("paused")};return t.addEventListener("play",s),t.addEventListener("pause",l),()=>{t.removeEventListener("play",s),t.removeEventListener("pause",l)}},[]);const g=()=>{const t=n.current;t&&(t.paused?t.play().catch(s=>{console.error("Manual play failed:",s)}):t.pause())},b=r==="blocked"||r==="paused";return e.jsx("section",{id:"demo",className:"py-20 sm:py-32 overflow-hidden",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[e.jsxs("div",{className:"lg:w-1/2 text-center lg:text-left",children:[e.jsx("h2",{className:`text-4xl font-extrabold tracking-tight mb-6 h-32 lg:h-24 ${h?"typing-cursor":""}`,children:m}),e.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Всё просто — клиент пишет, бот всё делает. Без сложных инструкций и долгого обучения."}),e.jsx("a",{href:"https://t.me/AISobolev_bot",target:"_blank",rel:"noopener noreferrer",className:"inline-block text-white font-bold py-3 px-8 rounded-lg text-lg transition-all duration-300 btn-interactive",children:"Смотреть демо в Telegram"})]}),e.jsx("div",{className:"lg:w-1/2 w-full max-w-sm mx-auto lg:mx-0",children:e.jsxs("div",{className:"relative mx-auto border-gray-800 dark:border-gray-800 bg-gray-800 border-[14px] rounded-[2.5rem] h-[600px] w-[300px] shadow-2xl",children:[e.jsx("div",{className:"w-[148px] h-[18px] bg-gray-800 top-0 rounded-b-[1rem] left-1/2 -translate-x-1/2 absolute"}),e.jsx("div",{className:"h-[46px] w-[3px] bg-gray-800 absolute -left-[17px] top-[124px] rounded-l-lg"}),e.jsx("div",{className:"h-[46px] w-[3px] bg-gray-800 absolute -left-[17px] top-[178px] rounded-l-lg"}),e.jsx("div",{className:"h-[64px] w-[3px] bg-gray-800 absolute -right-[17px] top-[142px] rounded-r-lg"}),e.jsxs("div",{className:"relative rounded-[2rem] overflow-hidden w-full h-full bg-black cursor-pointer",onClick:g,children:[e.jsxs("video",{ref:n,loop:!0,muted:!0,playsInline:!0,preload:"metadata",className:`w-full h-full object-cover transition-opacity duration-500 ${r==="playing"||r==="paused"?"opacity-100":"opacity-0"}`,poster:u?"":x,children:[e.jsx("source",{src:"https://allwebs.ru/images/2025/10/16/8d16f12614fcc9ee3d8c10fa87d9d485.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),r==="pending"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60","aria-label":"Загрузка видео...",children:e.jsxs("svg",{className:"animate-spin h-10 w-10 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),b&&e.jsxs("div",{className:"absolute inset-0",children:[r==="blocked"&&!u&&e.jsx("img",{src:x,className:"w-full h-full object-cover",alt:"Превью демо-видео",onError:()=>f(!0)}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:e.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-sm rounded-full text-white transition-all duration-300 transform hover:scale-110","aria-label":"Воспроизвести демо",children:e.jsx(w,{className:"h-12 w-12"})})})]})]})]})})]})})})},k=y.memo(j);export{k as default};
